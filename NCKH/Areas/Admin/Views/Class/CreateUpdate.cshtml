@{

    Layout = "~/Areas/Admin/Views/Shared/Layout.cshtml";
}
@using NCKH.Models;
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@{
    var advisor_id = HttpContextAccessor.HttpContext.Session.GetString("advisor_id");
}
@functions {
    public MyDbContext db = new MyDbContext();
    public List<ItemTrainingProgram> ListClass()
    {
        List<ItemTrainingProgram> list_class = db.TrainingPrograms.OrderByDescending(item => item.Program_ID).ToList();
        return list_class;
    }
}

<div class="col-12 grid-margin stretch-card">
    <div class="card">
        <div class="card-body">
            <h4 class="card-title">Class</h4>
            <form class="forms-sample" method="post" enctype="multipart/form-data" action="@ViewBag.action">
                <div class="form-group">
                    <label for="exampleInputName1">Class Name</label>
                    <input type="text" name="name" class="form-control" id="exampleInputName1" placeholder="Class Name" value="@if(Model != null){
                    <text>@Model.ClassName</text>
                    }">
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail3">Number of student</label>
                    <input type="number" name="number" class="form-control" id="exampleInputEmail3" placeholder="Number of student" value="@if(Model != null){
                    <text>@Model.NumberStudent</text>
                    }">
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword4">Class select</label>
                    <div class="col-sm-10" style="height:200px; overflow:scroll;">
                        <table class="table">
                            @{
                                List<ItemTrainingProgram> classs = ListClass();
                            }
                            @foreach (var item in classs)
                            {
                                <tr>
                                    <td>
                                        <input type="checkbox" @if (Model != null)
                                        {
                                            <text>checked</text>
                                        } value="@item.MajorName" name="category_@item.Program_ID" id="category_@item.Program_ID" />&nbsp;&nbsp; <label for="category_@item.Program_ID">@item.MajorName</label>
                                    </td>
                                </tr>
                            }
                        </table>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary mr-2" value="Upload">Submit</button>
                
            </form>
           
        </div>
    </div>
</div>

